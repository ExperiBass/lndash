if (fullNetworkDescription && fullNetworkDescription.nodeInfoByPubkey[card_node_pubkey])
	- var card_node = {pubkey:card_node_pubkey, alias:fullNetworkDescription.nodeInfoByPubkey[card_node_pubkey].node.alias, color:fullNetworkDescription.nodeInfoByPubkey[card_node_pubkey].node.color};

if (node_card_include_wrapper)
	.card.shadow-sm(style="min-width: 275px;")
		.card-body.p-2
			.d-flex.flex-row
				.me-2
					if (card_node)
						- var node_pubkey = card_node.pubkey;
						- var node_icon_size = "2.75em";
						include ./node-icon.pug
						
				div
					if (card_node)
						a(href=`/node/${card_node.pubkey}`, title=card_node.pubkey, data-bs-toggle="tooltip")
							include ./node-pubkey.pug
						
						br
						- var node_alias = card_node.alias;
						include ./node-alias.pug

else
	.d-flex.flex-row
		.me-2
			- var node_icon_size = "2.75em";

			if (card_node)
				- var node_pubkey = card_node.pubkey;
			else
				- var node_pubkey = card_node_pubkey;

			include ./node-icon.pug

		div
			if (card_node)
				a(href=`/node/${card_node.pubkey}`)
					include ./node-pubkey.pug

				if (utils.isObjectStarred(`node:${card_node.pubkey}`))
					i.fas.fa-star.text-warning.ms-1(title="This is one of your favorite nodes" data-bs-toggle="tooltip")
				
				br
				- var node_alias = card_node.alias;
				include ./node-alias.pug

				if (card_node.pubkey == lndRpc.internal_pubkey)
					i.fa.fa-certificate.ms-2.text-primary(title="This is your LND Node" data-bs-toggle="tooltip")

			else
				a(href=`/node/${card_node_pubkey}`, title=card_node_pubkey, data-bs-toggle="tooltip")
					include ./node-pubkey.pug

				br
				span.text-danger.border-dotted(title="Details for this node's public key seem to be unavailable." data-bs-toggle="tooltip") Unknown Node

- card_node_pubkey = null;
- card_node = null;